<!DOCTYPE html>
<html>
<body>

<title>#general1</title>
<h1 style="font-family:arial">#general1 - Anything can be posted :)</h1>
<form action="index.html" method="get">
<p style="font-family:arial">username</p><input type="text" id="tr" name="tr" value="Anonymous"><br>
<p style="font-family:arial">comment</p><textarea name="" cols="48" rows="4" wrap="soft" tabindex="4"></textarea><br>
<input type="file"><br>
<input type="submit" value="Post" tabindex="6"><br>
</form>
<script>
  const createServer = require('http').createServer;

const server = createServer((req, res) => {
  let body = '';
  req.on('data', data => body += data)

  req.on('end', () => {
    res.writeHead(200, {
      'Content-Type': 'application/json',
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'POST, GET',
    });
    res.end(`{ "response": "${body ? body : 'No body sent' }" }`);
  })
});

server.listen(3000, () => {
  console.log('Server listening');
} );
  </script>

</body>
</html>
